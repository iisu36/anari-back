{"version":3,"sources":["Tilanne.js","App.js","index.js"],"names":["Tilanne","_ref","stats","players","porssi","veikkaajat","league","divisions","map","team","veikkaaja","teams","joukkue","teamId","points","name","rank","leagueRank","sort","a","b","parseInt","Math","abs","pisteporssi","index","standing","_jsx","className","children","_jsxs","key","concat","src","alt","width","height","division","App","props","_useState","useState","_useState2","_slicedToArray","setStats","_useState3","_useState4","setPlayers","_useState5","_useState6","setPorssi","useEffect","axios","get","then","response","data","ReactDOM","render","document","getElementById"],"mappings":"8PA0NeA,EAjNC,SAAHC,GAAoC,IAA9BC,EAAKD,EAALC,MAAOC,EAAOF,EAAPE,QAASC,EAAMH,EAANG,OAE3BC,EAAaF,EAEjB,IAAKD,EAAMI,SAAWJ,EAAMK,YAAcF,EACtC,OAAO,KAiBXH,EAAMI,OAAOE,KAAI,SAAAC,GACbJ,EAAWG,KAAI,SAAAE,GACXA,EAAUC,MAAMH,KAAI,SAAAI,GACZH,EAAKI,SAAWD,EAAQC,SACxBD,EAAQE,OAASL,EAAKK,OACtBF,EAAQG,KAAON,EAAKA,KACpBG,EAAQI,KAAOP,EAAKQ,WAE5B,IAEAP,EAAUC,MAAMO,MAAK,SAACC,EAAGC,GACrB,OAAID,EAAEL,OAASM,EAAEN,OAAe,EAC5BK,EAAEL,OAASM,EAAEN,QAAgB,EAE7BK,EAAEL,SAAWM,EAAEN,OACXO,SAASF,EAAEH,MAAQK,SAASD,EAAEJ,OAAe,EACrC,OAFhB,CAIJ,GACJ,GACJ,IAhCIX,EAAWG,KAAI,SAAAE,GAEX,IAAII,EAAS,EAEbJ,EAAUC,MAAMH,KAAI,SAAAC,GAChBK,GAAUL,EAAKK,MACnB,IAEAJ,EAAUI,OAASA,CACvB,IA2BJT,EAAaA,EAAWa,MAAK,SAACC,EAAGC,GAE7B,OAAID,EAAEL,OAASM,EAAEN,OAAe,EAC5BK,EAAEL,OAASM,EAAEN,QAAgB,EAE7BK,EAAEL,SAAWM,EAAEN,OACCQ,KAAKC,IAAIJ,EAAEK,YAAcpB,EAAOU,QAChCQ,KAAKC,IAAIH,EAAEI,YAAcpB,EAAOU,SACjB,EACxB,OAJX,CAMJ,IAEA,IAAIW,EAAQ,EAMZ,OAJApB,EAAWG,KAAI,SAAAE,GACXA,EAAUgB,SAAWD,GACzB,IAGIE,cAAA,OAAKC,UAAU,kBAAiBC,SAE5BC,eAAA,OAAKF,UAAU,MAAKC,SAAA,CAChBC,eAAA,OAAKF,UAAU,WAAUC,SAAA,CAAC,IAEtBC,eAAA,OAAuBF,UAAU,iDAAgDC,SAAA,CAAC,IAC9EF,cAAA,OAAKC,UAAU,cAAaC,SACxBC,eAAA,OAAKF,UAAU,MAAKC,SAAA,CAChBC,eAAA,OAAKF,UAAU,gCAA+BC,SAAA,CAAC,IAC3CC,eAAA,MAAAD,SAAA,CAAI,cAASzB,EAAOW,WAExBe,eAAA,OAAKF,UAAU,wBAAuBC,SAAA,CAAC,IACnCC,eAAA,MAAAD,SAAA,CAAKzB,EAAOU,OAAO,mBAPzBV,EAAOW,MAahBV,EAAWG,KAAI,SAAAE,GAEZ,OACIoB,eAAA,OAA0BF,UAAU,+CAA8CC,SAAA,CAAC,IAC/EF,cAAA,OAAKC,UAAU,cAAaC,SACxBC,eAAA,OAAKF,UAAU,MAAKC,SAAA,CAChBC,eAAA,OAAKF,UAAU,gCAA+BC,SAAA,CAAC,IAC3CC,eAAA,MAAAD,SAAA,CAAKnB,EAAUgB,SAAS,KAAGhB,EAAUK,WAEzCe,eAAA,OAAKF,UAAU,wBAAuBC,SAAA,CAAC,IACnCF,cAAA,MAAAE,SAAKnB,EAAUI,iBAI3BgB,eAAA,OAAKF,UAAU,cAAaC,SAAA,CAAC,IAExBnB,EAAUC,MAAMH,KAAI,SAAAC,GAEjB,IAAMsB,EAAG,GAAAC,OAAMtB,EAAUK,MAAIiB,OAAGvB,EAAKM,MAIrC,OACIe,eAAA,OAAeF,UAAU,yBAAwBC,SAAA,CAC7CF,cAAA,OAAKC,UAAU,aAAYC,SACvBF,cAAA,OAAKM,IAAG,6EAAAD,OAA+EvB,EAAKI,OAAM,QAAQqB,IAAI,MAAMC,MAAM,OAAOC,OAAO,WAE5IN,eAAA,OAAKF,UAAU,mBAAkBC,SAAA,CAAC,IAC9BF,cAAA,KAAAE,SAAIpB,EAAKM,UAEbe,eAAA,OAAKF,UAAU,wBAAuBC,SAAA,CAAC,IACnCF,cAAA,KAAAE,SAAIpB,EAAKK,cARPiB,EAYlB,IAEAD,eAAA,OAAKF,UAAU,qCAAoCC,SAAA,CAC/CF,cAAA,OAAKC,UAAU,aAAYC,SACvBF,cAAA,KAAAE,SAAG,sBAEPC,eAAA,OAAKF,UAAU,wBAAuBC,SAAA,CAAC,IACnCC,eAAA,KAAAD,SAAA,CAAInB,EAAUc,YAAY,oBAvChCd,EAAUK,KA8C5B,OAGJe,eAAA,OAAKF,UAAU,WAAUC,SAAA,CAAC,IAErB3B,EAAMK,UAAUC,KAAI,SAAA6B,GAEjB,OACIP,eAAA,OAA6BF,UAAU,4CAA2CC,SAAA,CAAC,IAC/EC,eAAA,OAAKF,UAAU,mBAAkBC,SAAA,CAC7BC,eAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,IACjBF,cAAA,OAAKC,UAAU,gCAA+BC,SAC1CF,cAAA,MAAAE,SAAKQ,EAASA,gBAKrBA,EAAS1B,MAAMH,KAAI,SAAAC,GAEhB,IAAMsB,EAAG,WAAAC,OAAcvB,EAAKA,MAE5B,OACIqB,eAAA,OAAeF,UAAU,sDAAqDC,SAAA,CAAC,IAC3EF,cAAA,OAAKC,UAAU,aAAYC,SACvBF,cAAA,OAAKM,IAAG,6EAAAD,OAA+EvB,EAAKI,OAAM,QAAQqB,IAAI,MAAMC,MAAM,OAAOC,OAAO,WAE5IN,eAAA,OAAKF,UAAU,mBAAkBC,SAAA,CAAC,IAC9BF,cAAA,KAAAE,SAAIpB,EAAKA,UAEbqB,eAAA,OAAKF,UAAU,wBAAuBC,SAAA,CAAC,IACnCF,cAAA,KAAAE,SAAIpB,EAAKK,cARPiB,EAYlB,SA1BEM,EAASA,SA8B3B,OAGJP,eAAA,OAAKF,UAAU,WAAUC,SAAA,CACrBF,cAAA,OAAKC,UAAU,0EAAyEC,SACpFC,eAAA,OAAKF,UAAU,SAAQC,SAAA,CACnBF,cAAA,MAAIC,UAAU,cAAaC,SAAC,QAE3B3B,EAAMI,OAAOE,KAAI,SAAAC,GAEd,IAAMsB,EAAG,SAAAC,OAAYvB,EAAKA,MAC1B,OACIqB,eAAA,OAAeF,UAAU,oBAAmBC,SAAA,CACxCF,cAAA,OAAKC,UAAU,aAAYC,SACvBF,cAAA,OAAKM,IAAG,6EAAAD,OAA+EvB,EAAKI,OAAM,QAAQqB,IAAI,MAAMC,MAAM,OAAOC,OAAO,WAE5IN,eAAA,OAAKF,UAAU,mBAAkBC,SAAA,CAAC,IAC9BF,cAAA,KAAAE,SAAIpB,EAAKA,UAEbqB,eAAA,OAAKF,UAAU,wBAAuBC,SAAA,CAAC,IACnCF,cAAA,KAAAE,SAAIpB,EAAKK,cARPiB,EAYlB,SAIRJ,cAAA,OAAKC,UAAU,eAQnC,EC/KeU,EAnCH,SAACC,GAEX,IAAAC,EAA0BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA/BtC,EAAKwC,EAAA,GAAEE,EAAQF,EAAA,GACtBG,EAA8BJ,mBAAS,IAAGK,EAAAH,YAAAE,EAAA,GAAnC1C,EAAO2C,EAAA,GAAEC,EAAUD,EAAA,GAC1BE,EAA4BP,mBAAS,GAAEQ,EAAAN,YAAAK,EAAA,GAAhC5C,EAAM6C,EAAA,GAAEC,EAASD,EAAA,GAoBxB,OAlBAE,qBAAU,WACRC,IACGC,IAVS,UAWTC,MAAK,SAAAC,GACJX,EAASW,EAASC,KACpB,IACFJ,IACGC,IAAI,mBACJC,MAAK,SAAAC,GACJR,EAAWQ,EAASC,KACtB,IACFJ,IACGC,IAAI,iBACJC,MAAK,SAAAC,GACJL,EAAUK,EAASC,KACrB,GACJ,GAAG,IAGD1B,eAAA,OAAAD,SAAA,CAEEC,eAAA,MAAIF,UAAU,cAAaC,SAAA,CAAC,cAAKF,cAAA,OAAKM,IAAI,qEAAqEC,IAAI,IAAIC,MAAM,MAAMC,OAAO,QAAO,cAEjJT,cAAC3B,EAAO,CAACE,MAAOA,EAAOC,QAASA,EAASC,OAAQA,MAIvD,EClCAqD,IAASC,OAAO/B,cAACW,EAAG,IAAKqB,SAASC,eAAe,Q","file":"static/js/main.2ce000cb.chunk.js","sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css'\nimport $ from 'jquery';\nimport 'bootstrap/dist/js/bootstrap.bundle.min'\nimport Popper from 'popper.js'\n\nimport './tilanne.css'\n\nimport React from 'react'\n\nconst Tilanne = ({ stats, players, porssi }) => {\n\n    let veikkaajat = players\n\n    if (!stats.league || !stats.divisions || !veikkaajat) {\n        return null\n    }\n\n    const pointCounter = () => {\n\n        veikkaajat.map(veikkaaja => {\n\n            let points = 0\n\n            veikkaaja.teams.map(team => {\n                points += team.points\n            })\n\n            veikkaaja.points = points\n        })\n    }\n\n    stats.league.map(team => {\n        veikkaajat.map(veikkaaja => {\n            veikkaaja.teams.map(joukkue => {\n                if (team.teamId === joukkue.teamId) {\n                    joukkue.points = team.points\n                    joukkue.name = team.team\n                    joukkue.rank = team.leagueRank\n                }\n            })\n\n            veikkaaja.teams.sort((a, b) => {\n                if (a.points < b.points) return 1\n                if (a.points > b.points) return -1\n\n                if (a.points === b.points) {\n                    if (parseInt(a.rank) < parseInt(b.rank)) return -1\n                    else return 1\n                }\n            })\n        })\n    })\n\n    pointCounter()\n\n    veikkaajat = veikkaajat.sort((a, b) => {\n\n        if (a.points < b.points) return 1\n        if (a.points > b.points) return -1\n\n        if (a.points === b.points) {\n            const aPorssi = Math.abs(a.pisteporssi - porssi.points)\n            const bPorssi = Math.abs(b.pisteporssi - porssi.points)\n            if (aPorssi < bPorssi) return -1\n            return 1\n        }\n    })\n\n    let index = 1\n\n    veikkaajat.map(veikkaaja => {\n        veikkaaja.standing = index++\n    })\n\n    return (\n        <div className=\"container-fluid\">\n\n            <div className=\"row\">\n                <div className=\"col-sm-4\"> {/* veikkaustaulu */}\n\n                    <div key={porssi.name} className=\"row border border-dark rounded mt-1 bg-warning\"> {/* pörssilaatikko */}\n                        <div className=\"col-12 mt-1\">\n                            <div className=\"row\">\n                                <div className=\"col-9 font-weight-bolder px-1\"> {/* nimi */}\n                                    <h4>Pörssi: {porssi.name}</h4>\n                                </div>\n                                <div className=\"col-3 text-right pr-1\"> {/* pisteet */}\n                                    <h4>{porssi.points} p.</h4>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    {veikkaajat.map(veikkaaja => {\n\n                        return (\n                            <div key={veikkaaja.name} className=\"row border border-dark rounded mt-1 bg-light\"> {/* veikkaajalaatikko */}\n                                <div className=\"col-12 mt-1\">\n                                    <div className=\"row\">\n                                        <div className=\"col-9 font-weight-bolder px-1\"> {/* sijoitus ja nimi */}\n                                            <h4>{veikkaaja.standing}. {veikkaaja.name}</h4>\n                                        </div>\n                                        <div className=\"col-3 text-right pr-1\"> {/* yhteispisteet */}\n                                            <h4>{veikkaaja.points}</h4>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"col-12 px-0\"> {/* joukkuelaatikko */}\n\n                                    {veikkaaja.teams.map(team => {\n\n                                        const key = `${veikkaaja.name}${team.name}`\n\n                                        \n\n                                        return (\n                                            <div key={key} className=\"row border-bottom mx-0\">\n                                                <div className=\"col-1 px-1\">\n                                                    <img src={`https://www-league.nhlstatic.com/images/logos/teams-current-primary-light/${team.teamId}.svg`} alt=\"img\" width=\"20px\" height=\"20px\" />\n                                                </div>\n                                                <div className=\"col-10 pr-0 pl-2\"> {/* joukkue */}\n                                                    <p>{team.name}</p>\n                                                </div>\n                                                <div className=\"col-1 pl-0 text-right\"> {/* joukkueen pisteet */}\n                                                    <p>{team.points}</p>\n                                                </div>\n                                            </div>\n                                        )\n                                    })}\n\n                                    <div className=\"row mx-0 bg-warning rounded-bottom\">\n                                        <div className=\"col-9 pl-2\">\n                                            <p>Pistepörssi:</p>\n                                        </div>\n                                        <div className=\"col-3 pr-2 text-right\"> {/* joukkueen pisteet */}\n                                            <p>{veikkaaja.pisteporssi} p.</p>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            </div>\n                        )\n                    })}\n                </div>\n\n                <div className=\"col-sm-4\"> {/* divisioonat */}\n\n                    {stats.divisions.map(division => {\n\n                        return (\n                            <div key={division.division} className=\"row border-dark rounded mt-1 bg-secondary\"> {/* divisioona */}\n                                <div className=\"col-12 px-0 mx-0\">\n                                    <div className=\"row\"> {/* divisioona otsikko */}\n                                        <div className=\"col-12 text-center text-light\">\n                                            <h3>{division.division}</h3>\n                                        </div>\n                                    </div>\n\n\n                                    {division.teams.map(team => {\n\n                                        const key = `divisiom${team.team}`\n\n                                        return (\n                                            <div key={key} className=\"row border-bottom border-dark font-weight-bold mx-0\"> {/* joukkue */}\n                                                <div className=\"col-1 px-1\">\n                                                    <img src={`https://www-league.nhlstatic.com/images/logos/teams-current-primary-light/${team.teamId}.svg`} alt=\"img\" width=\"20px\" height=\"20px\" />\n                                                </div>\n                                                <div className=\"col-10 pr-0 pl-2\"> {/* joukkue */}\n                                                    <p>{team.team}</p>\n                                                </div>\n                                                <div className=\"col-1 pl-0 text-right\"> {/* joukkueen pisteet */}\n                                                    <p>{team.points}</p>\n                                                </div>\n                                            </div>\n                                        )\n                                    })}\n                                </div>\n                            </div>\n                        )\n                    })}\n                </div>\n\n                <div className=\"col-sm-4\">\n                    <div className=\"row border border-dark rounded mt-1 bg-dark text-white font-weight-bold\">\n                        <div className=\"col-12\">\n                            <h3 className=\"text-center\">NHL</h3>\n\n                            {stats.league.map(team => {\n\n                                const key = `league${team.team}`\n                                return (\n                                    <div key={key} className=\"row border-bottom\">\n                                        <div className=\"col-1 px-1\">\n                                            <img src={`https://www-league.nhlstatic.com/images/logos/teams-current-primary-light/${team.teamId}.svg`} alt=\"img\" width=\"20px\" height=\"20px\" />\n                                        </div>\n                                        <div className=\"col-10 pr-0 pl-2\"> {/* joukkue */}\n                                            <p>{team.team}</p>\n                                        </div>\n                                        <div className=\"col-1 pl-0 text-right\"> {/* joukkueen pisteet */}\n                                            <p>{team.points}</p>\n                                        </div>\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </div>\n\n                    <div className=\"row\">\n\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Tilanne","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Tilanne from './Tilanne'\n\nconst baseUrl = '/anari'\n\nconst App = (props) => {\n\n  const [stats, setStats] = useState([])\n  const [players, setPlayers] = useState([])\n  const [porssi, setPorssi] = useState(0)\n\n  useEffect(() => {\n    axios\n      .get(baseUrl)\n      .then(response => {\n        setStats(response.data)\n      })\n    axios\n      .get('/anari/pelaajat')\n      .then(response => {\n        setPlayers(response.data)\n      })\n    axios\n      .get('/anari/porssi')\n      .then(response => {\n        setPorssi(response.data)\n      })\n  }, [])\n\n  return (\n    <div>\n\n      <h1 className=\"text-center\">Änäri<img src=\"https://upload.wikimedia.org/wikipedia/en/e/e4/NHL_Logo_former.svg\" alt=\"-\" width=\"100\" height=\"100\"/>veikkaus</h1>\n\n      <Tilanne stats={stats} players={players} porssi={porssi}/>\n\n    </div>\n  )\n}\n\nexport default App \n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}